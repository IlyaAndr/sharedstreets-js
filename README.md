# SharedStreets

> Javascript library for using SharedStreets Reference data

## A "digital commons" for the street

New digital tools have the potential to radically improve the efficiency, affordability, and
inclusiveness of our transport system, but success depends on cooperation between the
cities that build and manage our streets and the companies and transport services that use them.

As new transportation technologies emerge, cites need access to increasingly privatized
data about public infrastructure. While private sector innovators are collecting detailed,
street-level data in real time on everything from traffic speeds to transit use, cities don’t
have the access they need. Clearly a new partnership model is needed.

SharedStreets is building a “digital commons” for streets: a universal language for
communicating information about city streets, and a launching pad for public-private
collaboration and data exchange.

### Universal Data Standards

The platform allows parties to connect their own data workflows and systems and take advantage of a growing range of new data sources. SharedStreets data standards facilitate public and private collaboration through a non-proprietary
system for describig streets.

[Learn more about SharedStreets Data Standards »](https://github.com/sharedstreets/sharedstreets-referencing)

![image](https://github.com/sharedstreets/sharedstreets-ref-system/raw/master/img/gis_vs_sharedstreets.png)

### Trusted Third Party Data Exchange

![image](https://github.com/sharedstreets/sharedstreets-ref-system/raw/master/img/sharedstreets_references.png)

Shared digital infrastructure lets cities use standardized practices to ensure user and business privacy.
It also uses best-in-practice reusable licensing models to support public and commercial data sharing agreements.

## Install

**In Node.js**

```bash
$ npm install sharedstreets
```

**In browser**

Download the [minified file](https://unpkg.com/sharedstreets/sharedstreets.min.js), and include it in a script tag. This will expose a global variable named **sharedstreets**.

```html
<script src="sharedstreets.min.js" charset="utf-8"></script>
```

**In browser ES Modules support**

```html
<script type='module'>
import * as sharedstreets from "https://unpkg.com/sharedstreets?module"
</script>
```

## API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Table of Contents

-   [geometry](#geometry)
-   [intersection](#intersection)

### geometry

Geometry

SharedStreets Geometries are street centerline data derived from the basemap used to
produce SharedStreets References. A single geometry is shared by each set of forward and back references.

SharedStreets is premised on the idea that there's no one correct geometry for a given street.
Just as street references can be generated from any basemap, street geometries can be derived from any data source.

**Parameters**

-   `start` **(Point | [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>)** Start location reference as a GeoJSON Point or an Array of numbers &lt;longitude, latitude>.
-   `end` **(Point | [Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)>)** End location reference as a GeoJSON Point or an Array of numbers &lt;longitude, latitude>.
-   `bearing` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** Compass bearing of the street geometry for the 20 meters immediately following the location reference.

**Examples**

```javascript
var start = [-74.003388, 40.634538];
var end = [-74.004107, 40.63406];
var bearing = 228.890377;

var geom = sharedstreets.geometry(start, end, bearing);
geom.id // => "NxPFkg4CrzHeFhwV7Uiq7K"
```

Returns **Feature&lt;LineString>** Geometry

### intersection

Intersection

> Nodes connecting street street segments references

SharedStreets uses 128-bit shorthand identifiers to relate data within the SharedStreets referencing system.
These IDs provide a basemap-independent addressing system for street segment references,
intersections and geometries. These identifiers are generated deterministically using a hash of the underlying data.
This means that two different users with the same input data can generate matching SharedStreets identifiers.
This simplifies data sharing, allowing users to match data using shorthand IDs whenever possible.

In the draft specification the 128-bit IDs are encoded as base-58 strings.

**Parameters**

-   `geojson` **(Point | Position)** GeoJSON Point

**Examples**

```javascript
var pt = {type: "Point", coordinates: [10, 20]};
sharedstreets.intersection(pt) // => "5gRJyF2MT5BBErTyEesQLC"
```

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** Intersection Id
